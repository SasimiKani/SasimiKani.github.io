<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" href="style.css">
	<title>ﾊﾟﾝﾁ</title>
</head>
<body>
	<input id="char" placeholder="持たせる文字"><br>
	<input id="yomi" placeholder="〇〇ﾁｬﾝの部分"><br>
	<input type="button" id="gen" value="作成"><br>
	<input id="punch" placeholder="出力"><br>
	<input type="button" id="tweet" value="ツイート">
	<input type="button" id="tweet_link" value="ツイート（リンク付き）">
	<input type="button" id="copy" value="コピー"><span style="margin-left:10px;" id="msg"></span><br>
	<script>
	function punch() {
		var c = document.getElementById("char").value;
		var yomi = document.getElementById("yomi").value;
		document.getElementById("punch").value = c + "( '-' " + c + " )" + yomi +"ﾁｬﾝ";
	}
	document.getElementById("char").addEventListener("keypress", function(e) {
		console.log(e.key);
		if (e.key == "Enter") punch();
	});
	document.getElementById("yomi").addEventListener("keypress", function(e) {
		console.log(e.key);
		if (e.key == "Enter") punch();
	});
	document.getElementById("gen").addEventListener("click", function() {
		punch();
	});
	document.getElementById("tweet").addEventListener("click", function() {
		var tweet = document.getElementById("punch").value;
		window.open("https://twitter.com/intent/tweet?text=" + tweet);
	});
	document.getElementById("tweet_link").addEventListener("click", function() {
		var tweet = document.getElementById("punch").value;
		window.open("https://twitter.com/intent/tweet?text=" + tweet + "%0Ahttps://sasimikani.github.io/punch/%0A%23ｼﾞｪﾈﾚｰﾀｰﾁｬﾝ");
	});
	document.getElementById("copy").addEventListener("click", function() {
		var target = document.getElementById("punch");
		target.select();
		document.execCommand("Copy");
		
		document.getElementById("msg").innerText = "コピーしました";
		setTimeout(function() {
			document.getElementById("msg").innerText = "";
		}, 1500);
		
	});
	</script>
</body>
</html>
